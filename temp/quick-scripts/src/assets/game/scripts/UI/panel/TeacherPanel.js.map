{"version":3,"sources":["assets\\game\\scripts\\UI\\panel\\TeacherPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { FrameMsgType } from '../../../../frame/scripts/Data/FrameMsgType';\nimport { ListenerManager } from '../../../../frame/scripts/Manager/ListenerManager';\nimport { ReportManager } from '../../../../frame/scripts/Manager/ReportManager';\nimport { UIManager } from '../../../../frame/scripts/Manager/UIManager';\nimport BaseTeacherPanel from '../../../../frame/scripts/UI/Panel/BaseTeacherPanel';\nimport SubmissionPanel from '../../../../frame/scripts/UI/Panel/SubmissionPanel';\nimport { UIHelp } from '../../../../frame/scripts/Utils/UIHelp';\nimport { EventType } from '../../Data/EventType';\nimport { EditorManager } from '../../Manager/EditorManager';\nimport GeziArea from '../Item/GeziArea';\nimport IconDrag from '../Item/IconDrag';\nimport GamePanel from './GamePanel';\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class TeacherPanel extends BaseTeacherPanel {\n    public static className = 'TeacherPanel';\n\n    @property(cc.ToggleContainer)\n    private toggle_stars: cc.ToggleContainer = null;\n    @property(cc.ToggleContainer)\n    private toggle_replay: cc.ToggleContainer = null;\n    @property(cc.ToggleContainer)\n    private toggle_titleAudio: cc.ToggleContainer = null;\n    @property(cc.ToggleContainer)\n    private toggle_needEnd: cc.ToggleContainer = null;\n    @property(cc.ToggleContainer)\n    private toggle_geziSize: cc.ToggleContainer = null;\n    @property(cc.EditBox)\n    private tigan_edit: cc.EditBox = null;\n    @property(cc.Node)\n    private gezi_1: cc.Node = null;\n    @property(cc.Node)\n    private gezi_2: cc.Node = null;\n    @property(cc.Prefab)\n    private gezi_prefab_1: cc.Prefab = null;\n    @property(cc.Prefab)\n    private gezi_prefab_2: cc.Prefab = null;\n    @property(cc.Node)\n    private mask_1: cc.Node = null;\n    @property(cc.Node)\n    private mask_2: cc.Node = null;\n    @property(cc.Node)\n    private mask_3: cc.Node = null;\n\n\n    private _btn_save: cc.Node = null;\n    private _btn_view: cc.Node = null;\n\n    onLoad() {\n        super.onLoad();\n        ListenerManager.on(EventType.DRAG_ICON_END, this.onDragMaoziEnd, this);\n        ListenerManager.on(EventType.CLICK_ICON, this.onHandleClick, this);\n    }\n\n    onDestroy() {\n        ListenerManager.off(EventType.DRAG_ICON_END, this.onDragMaoziEnd, this);\n        ListenerManager.off(EventType.CLICK_ICON, this.onHandleClick, this);\n    }\n\n    start() {\n        super.start();\n\n        // 可编辑的游戏，不展示保存按钮\n        const isEdit = EditorManager.isSupportEdit();\n        if (this._btn_save) {\n            this._btn_save.active = !isEdit;\n        }\n        this._btn_save.active = true;\n    }\n\n    /**\n     * 设置界面（这里已经拿到了网络请求数据）\n     */\n    setPanel() {\n        super.setPanel();\n        this.toggle_stars.toggleItems[EditorManager.editorData.isStarCount ? 0 : 1].isChecked = true;\n        this.toggle_replay.toggleItems[EditorManager.editorData.isReplay ? 0 : 1].isChecked = true;\n        this.toggle_titleAudio.toggleItems[EditorManager.editorData.isPlayTitle ? 0 : 1].isChecked = true;\n        this.toggle_needEnd.toggleItems[EditorManager.editorData.needEnd ? 0 : 1].isChecked = true;\n        this.toggle_geziSize.toggleItems[EditorManager.editorData.geziSize].isChecked = true;\n        this.tigan_edit.string = EditorManager.editorData.tigan.toString();\n\n        this.initGeZi();\n    }\n\n    // 星级评判开关\n    public onToggleStar(toggle: cc.Toggle): void {\n        let index = this.toggle_stars.toggleItems.indexOf(toggle);\n        EditorManager.editorData.isStarCount = 0 === index;\n    }\n\n    // 重玩开关\n    public onToggleReplay(toggle: cc.Toggle): void {\n        let index = this.toggle_replay.toggleItems.indexOf(toggle);\n        EditorManager.editorData.isReplay = 0 === index;\n    }\n\n    // 自动播放题干语音开关\n    public onToggleTitleAudio(toggle: cc.Toggle): void {\n        let index = this.toggle_titleAudio.toggleItems.indexOf(toggle);\n        EditorManager.editorData.isPlayTitle = 0 === index;\n    }\n\n    //是否需要结算\n    private onToggleNeedEnd(toggle: cc.Toggle): void {\n        let index = this.toggle_needEnd.toggleItems.indexOf(toggle);\n        EditorManager.editorData.needEnd = 0 === index;\n    }\n\n    // 格子大小\n    private onToggleGeziSize(toggle: cc.Toggle): void {\n        let index = this.toggle_geziSize.toggleItems.indexOf(toggle);\n        EditorManager.editorData.geziSize = index;\n        this.initGeZi();\n    }\n\n    onHandleTiganChanged() {\n        if (this.tigan_edit.string.length >= 30) {\n            UIHelp.showTip(\"最多输入30个字哦！\");\n        }\n        EditorManager.editorData.tigan = this.tigan_edit.string;\n    }\n\n    onHanleTiganEnd() {\n        EditorManager.editorData.tigan = this.tigan_edit.string;\n    }\n\n    private initGeZi() {\n        this.gezi_1.parent.active = EditorManager.editorData.geziSize === 0;\n        this.gezi_2.parent.active = EditorManager.editorData.geziSize === 1;\n        let geziNode = EditorManager.editorData.geziSize === 0 ? this.gezi_1 : this.gezi_2;\n        let geziPrefab = EditorManager.editorData.geziSize === 0 ? this.gezi_prefab_1 : this.gezi_prefab_2;\n        let gezirowCount = EditorManager.editorData.geziSize === 0 ? 5 : 6;\n        geziNode.removeAllChildren();\n        for (let i = 0; i < gezirowCount; i++) {\n            for (let j = 0; j < gezirowCount; j++) {\n                let gezi = cc.instantiate(geziPrefab);\n                gezi.getComponent(GeziArea).row = i;\n                gezi.getComponent(GeziArea).col = j;\n                gezi.parent = geziNode;\n            }\n        }\n        // 生成二维数组\n        EditorManager.editorData.geziIconArr = [];\n        for (let i = 0; i < gezirowCount; i++) {\n            let arr = [];\n            for (let j = 0; j < gezirowCount; j++) {\n                arr.push(0);\n            }\n            EditorManager.editorData.geziIconArr.push(arr);\n        }\n        this.onDragMaoziEnd();\n    }\n\n    private onDragMaoziEnd() {\n        let geziNode = EditorManager.editorData.geziSize === 0 ? this.gezi_1 : this.gezi_2;\n        let iconType = null;\n        for (let i = 0; i < geziNode.childrenCount; i++) {\n            let gezi = geziNode.children[i];\n            if (gezi.getChildByName(\"icon_node\").childrenCount > 0) {\n                iconType = gezi.getChildByName(\"icon_node\").children[0].getComponent(IconDrag).getIndex();\n                break;\n            }\n        }\n        if (iconType === null) {\n            this.mask_1.active = false;\n            this.mask_2.active = false;\n            this.mask_3.active = false;\n            return;\n        } else {\n            this.mask_1.active = iconType != 1 && iconType != 2;\n            this.mask_2.active = iconType != 3 && iconType != 4;\n            this.mask_3.active = iconType != 5 && iconType != 6 && iconType != 7;\n        }\n        for (let i = 0; i < geziNode.childrenCount; i++) {\n            let gezi = geziNode.children[i];\n            if (gezi.getChildByName(\"icon_node\").childrenCount > 0) {\n                iconType = gezi.getChildByName(\"icon_node\").children[0].getComponent(IconDrag).getIndex();\n                EditorManager.editorData.geziIconArr[gezi.getComponent(GeziArea).row][gezi.getComponent(GeziArea).col] = iconType;\n            } else {\n                EditorManager.editorData.geziIconArr[gezi.getComponent(GeziArea).row][gezi.getComponent(GeziArea).col] = 0;\n            }\n        }\n    }\n\n    //已经点击的格子\n    private clickedGezi: { row: number, col: number } = null;\n    private onHandleClick(data) {\n        if (this.clickedGezi != null) {\n            if (this.clickedGezi.row == data.row && this.clickedGezi.col == data.col) {\n                this.clickedGezi = null;\n                return;\n            } else {\n                this.setAnswer(data);\n            }\n        } else {\n            this.clickedGezi = data;\n        }\n    }\n\n    private setAnswer(data) {\n        let geziNode = EditorManager.editorData.geziSize === 0 ? this.gezi_1 : this.gezi_2;\n        let rowCount = EditorManager.editorData.geziSize === 0 ? 5 : 6;\n        //根据行列计算出索引\n        let startIndex = this.clickedGezi.row * rowCount + this.clickedGezi.col;\n        let endIndex = data.row * rowCount + data.col;\n        let answer = [startIndex, endIndex];\n        //不考虑顺序，如果已经存在，就删除\n        for (let i = 0; i < EditorManager.editorData.answerArr.length; i++) {\n            let arr = EditorManager.editorData.answerArr[i];\n            if (arr[0] == endIndex && arr[1] == startIndex) {\n                EditorManager.editorData.answerArr.splice(i, 1);\n                this.clickedGezi = null;\n                geziNode.children[startIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n                geziNode.children[endIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n                this.drawLine();\n                return;\n            } else if (arr[0] == startIndex && arr[1] == endIndex) {\n                EditorManager.editorData.answerArr.splice(i, 1);\n                this.clickedGezi = null;\n                geziNode.children[startIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n                geziNode.children[endIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n                this.drawLine();\n                return;\n            }\n        }\n        EditorManager.editorData.answerArr.push(answer);\n        this.clickedGezi = null;\n        geziNode.children[startIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n        geziNode.children[endIndex].getChildByName(\"icon_node\").children[0].getComponent(IconDrag).showHighLight(false);\n        this.drawLine();\n    }\n\n    private drawLine() {\n        let geziNode = EditorManager.editorData.geziSize === 0 ? this.gezi_1 : this.gezi_2;\n        let draw_node = geziNode.parent.getChildByName(\"draw_node\");\n        draw_node.removeAllChildren();\n        for (let i = 0; i < EditorManager.editorData.answerArr.length; i++) {\n            let arr = EditorManager.editorData.answerArr[i];\n            let startIndex = arr[0];\n            let endIndex = arr[1];\n            let startPos = geziNode.children[startIndex].position;\n            let endPos = geziNode.children[endIndex].position;\n            let lineNode = new cc.Node();\n            lineNode.addComponent(cc.Graphics);\n            lineNode.parent = draw_node;\n            let graphics = lineNode.getComponent(cc.Graphics);\n            graphics.strokeColor = cc.Color.WHITE;\n            graphics.fillColor = cc.Color.WHITE;\n            graphics.lineWidth = 20;\n            graphics.lineJoin = cc.Graphics.LineJoin.ROUND;\n            graphics.lineCap = cc.Graphics.LineCap.ROUND;\n            graphics.moveTo(startPos.x, startPos.y);\n            graphics.lineTo(endPos.x, endPos.y);\n            graphics.stroke();\n        }\n    }\n\n    // 保存课件按钮\n    public onBtnSaveClicked() {\n        const isEdit = EditorManager.isSupportEdit();\n        if (!isEdit || ReportManager.isAllOver) {\n            UIHelp.showSubmissionPanel();\n        } else {\n            UIHelp.showTip('请先完成一遍题目');\n        }\n    }\n    // 预览课件按钮\n    public onBtnViewClicked() {\n        if (\n            -1 === EditorManager.getCoursewareLevel() ||\n            null === EditorManager.getCoursewareLevel() ||\n            void 0 === EditorManager.getCoursewareLevel()\n        ) {\n            UIHelp.showTip('请先设置coursewareLevel');\n        } else {\n            ListenerManager.dispatch(FrameMsgType.TEACHER_PANEL_LOADING, true);\n            UIManager.showUI(GamePanel);\n        }\n    }\n}\n"]}